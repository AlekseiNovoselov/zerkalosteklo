GRANT ALL ON `kubDB`.* TO 'kubUser'@'127.0.0.1'IDENTIFIED BY '123';

DROP SCHEMA IF EXISTS `kubDB` ;
CREATE SCHEMA IF NOT EXISTS `kubDB` DEFAULT CHARACTER SET utf8 ;
USE `kubDB` ;

DROP TABLE IF EXISTS `kubDB`.`User` ;
CREATE TABLE IF NOT EXISTS `kubDB`.`User` (
`email` CHAR(45) NOT NULL,
`id` INT NOT NULL AUTO_INCREMENT,
`name` CHAR(45) NULL DEFAULT NULL,
`password` CHAR(45) NULL DEFAULT NULL,
`date_of_registration` DATETIME NOT NULL,
PRIMARY KEY (`email`),
UNIQUE INDEX `email_UNIQUE` (`email` ASC),
UNIQUE INDEX `id_UNIQUE` (`id` ASC))
ENGINE = InnoDB;

DROP TABLE IF EXISTS `kubDB`.`Session` ;
CREATE TABLE IF NOT EXISTS `kubDB`.`Session` (
`id` INT NOT NULL AUTO_INCREMENT,
`user` VARCHAR(45) NULL DEFAULT NULL,
PRIMARY KEY (`id`))
ENGINE = InnoDB;

DROP TABLE IF EXISTS `kubDB`.`Image` ;
CREATE TABLE IF NOT EXISTS `kubDB`.`Collection` (
`id` INT NOT NULL AUTO_INCREMENT,
`user` CHAR(45) NULL DEFAULT NULL,
`size` INT NOT NULL DEFAULT 0,
PRIMARY KEY (`id`))
ENGINE = InnoDB;

DROP TABLE IF EXISTS `kubDB`.`Album` ;
CREATE TABLE IF NOT EXISTS `kubDB`.`Album` (
`id` INT NOT NULL AUTO_INCREMENT,
`name` CHAR(45) NOT NULL,
`date_of_create` DATETIME NOT NULL,
`quantity_of_images` INT DEFAULT 0,
PRIMARY KEY (`id`))
ENGINE = InnoDB;


DROP TABLE IF EXISTS `kubDB`.`Image` ;
CREATE TABLE IF NOT EXISTS `kubDB`.`Image` (
`id` INT NOT NULL AUTO_INCREMENT,
`name` CHAR(45) NOT NULL,
`date_of_create` DATETIME NOT NULL,
`collection` INT NULL,
`album`INT NULL,
`path` CHAR(45) NULL,
PRIMARY KEY (`id`))
ENGINE = InnoDB;





